# 万象行者 - The Codex Walker

## 🚀 快速启动（评审专用）

### 启动方式
1.  **直接双击 `index.html` 文件**，浏览器将自动打开游戏。
2.  如果遇到视频播放问题（如黑屏），请使用本地服务器：
    ```bash
    # 在项目根目录打开终端，运行以下命令
    python3 -m http.server 8000
    ```
3.  然后在浏览器中访问 `http://localhost:8000`。

### 项目入口
-   `index.html` - 项目启动页（会自动跳转到游戏）。
-   `game.html` - 游戏主页面。
-   `使用说明.txt` - 为评审人员准备的简明启动指南。

---

## 项目概述
一个基于HTML5的互动视觉小说游戏，讲述了转校生陈星与神秘“万象行者”魏娇娇的奇幻冒险故事。游戏采用模块化架构设计，支持多分支剧情、沉浸式视频体验和丰富的互动选择。

## 🎮 游戏故事
在青藤高中，转校生陈星意外遇到了正在执行神秘“协议”的少女魏娇娇。当他发现自己能够看见“世界的另一面”时，一个关于“法典(Codex)”、守护故事的“万象行者”和污染故事的“蚀影体”的宏大世界观逐渐展开。作为一名未被记录在案的“野生行者”，陈星必须在被“监察局”发现之前，做出自己的选择...

### 主要角色
-   **陈星** - 男主角，拥有“认知敏感”能力的潜在“万象行者”。
-   **魏娇娇** - 女主角，代号“卡珊德拉”的见习“万象行者”，负责维护现实稳定。

## ✨ 技术特色
-   🎬 **沉浸式视频体验** - 剧情主要由视频驱动，提供强烈的代入感。
-   🔧 **模块化架构** - 代码结构清晰，易于扩展和维护。
-   🌟 **多分支剧情** - 玩家的选择将导向不同的剧情分支和最终结局。
-   📱 **响应式设计** - 界面适配不同尺寸的设备。
-   🔄 **动态内容加载** - 剧情数据从JSON文件异步加载。
-   ⏯️ **智能播放控制** - 支持自动/手动播放模式切换，并提供清晰的UI指示。
-   🎵 **视频音量管理** - 统一管理所有视频的音量和静音状态。
-   ✨ **平滑过渡效果** - 使用多种过渡动画提升场景切换的视觉体验。
-   🚀 **资源预加载** - 在后台预先加载即将播放的视频，减少等待时间。
-   💾 **本地存档** - 游戏进度会自动保存在浏览器中。

## 核心架构
1.  **GameController.js**: 游戏主控制器，协调所有模块工作。
2.  **SceneDataManager.js**: 负责异步加载 `data/` 目录下的所有剧情数据。
3.  **GameStateManager.js**: 管理游戏核心状态，并处理本地存档。
4.  **UIManager.js**: 控制所有UI元素的显示、隐藏和内容更新。
5.  **ScenePlayer.js**: 负责解析并执行当前场景的逻辑（如播放对话、视频）。
6.  **MusicManager.js**: 管理所有视频元素的音量和静音状态。
7.  **TransitionManager.js**: 提供场景切换时的过渡动画。
8.  **AssetLoader.js**: 在后台预加载后续场景需要的视频资源。
9.  **RouteManager.js**: 管理剧情路线和分支逻辑。

## 文件结构
```
hudongdemo2/
├── index.html              # 项目启动页
├── game.html               # 游戏主页面
├── about.html              # 关于页面（内容由JS动态加载）
├── ending_credits.html     # 游戏结尾页面
├── style.css               # 全局样式
├── README.md               # 项目说明文档
├── 使用说明.txt            # 简明启动指南
├── video_naming_guide.md   # 视频文件命名规范
├── css/
│   └── game-ui.css         # 游戏界面UI样式
├── js/                     # JavaScript模块
│   ├── GameController.js   # ... (核心脚本)
│   └── UIManager.js
├── data/                   # 游戏数据
│   ├── act1.json           # 第一幕剧情
│   ├── act2.json           # 第二幕剧情
│   ├── act3.json           # 第三幕剧情
│   ├── act4.json           # 第四幕剧情
│   └── codex.json          # 名词解释数据
└── game/                   # 游戏资源
    └── videos/             # 视频文件
        ├── bg/             # 背景视频 (循环)
        ├── cg/             # 过场动画 (CG)
        └── ui/             # 界面视频
```

## 🔧 开发日志

### v2.0.0 (当前版本)
-   ✨ **项目重构**: 对视频资源进行了全面的分类、重命名和路径更新，使项目结构更加清晰。
-   ✨ **文档完善**: 全面更新了 `README.md` 和 `使用说明.txt`，以反映项目的最终状态。
-   🗑️ **清理项目**: 删除了项目中未使用到的空目录 (`game/audio`, `game/images`) 和过时的文档 (`CONTENT_INVENTORY.md`)。
-   🔧 **修复**: 修正了 `game.html` 中开始菜单视频的错误路径。

### v1.x.x (历史版本)
-   实现完整的四幕式剧情结构和双结局系统。
-   开发了名词解释、页面跳转、自动播放等核心功能。
-   构建了模块化的游戏引擎，包括场景、状态、UI、音频、过渡和资源加载等管理器。
-   根据用户反馈多次迭代和修复剧情逻辑、视频播放等问题。

## 📄 许可证
本项目仅供学习和演示使用。